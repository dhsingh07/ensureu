# =============================================================================
# EnsureU - Assessment Platform for Competitive Exams
# A product of GrayscaleLabs AI Pvt Ltd.
# =============================================================================
# Common configuration - shared across all environments
# Environment-specific values are in application-{profile}.properties
# =============================================================================

# Default profile (override with: -Dspring.profiles.active=prod)
spring.profiles.active=${SPRING_PROFILES_ACTIVE:local}

# ===========================================
# Server Configuration
# ===========================================
server.servlet.context-path=/api
server.port=8282
spring.main.allow-circular-references=true

# ===========================================
# JWT Security Configuration
# ===========================================
spring.jwt.header=Authorization
spring.jwt.authentication.path=/auth
spring.jwt.authentication.refresh=/refresh
# Secret and expiration are environment-specific

# ===========================================
# OAuth Providers
# ===========================================
google.token.validate.url=https://www.googleapis.com/oauth2/v3/tokeninfo?access_token
facebook.token.validate.url=https://graph.facebook.com/v2.9/me?access_token
# Client IDs are environment-specific

# ===========================================
# Application Settings
# ===========================================
spring.user.limit.create=10000
spring.user.otp.length=4
paper.days.validity=1
day.milliseconds=86400000
testSeries.fetchMonth=2

# ===========================================
# File Upload Limits
# ===========================================
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ===========================================
# AES Encryption (same across environments)
# ===========================================
aes.encryption.salt=a7961e94564f046d493621714c296ca6
aes.encryption.iv=7d88998f7bb1a35f17d39e23b43775b0
aes.encryption.passphrase=ensureu@123

# Legacy encryption property aliases
spring.encryption.salt=${aes.encryption.salt}

# ===========================================
# AI Service Configuration
# ===========================================
ai.service.timeout=120000
# URL is environment-specific

# ===========================================
# MongoDB Configuration
# ===========================================
simple.data.mongodb.uri=${SIMPLE_DATA_MONGODB_URI:mongodb://localhost:27017/assessu}

# ===========================================
# JWT Configuration (from environment)
# ===========================================
spring.jwt.secret=${SPRING_JWT_SECRET:changeme}
spring.jwt.expiration=${SPRING_JWT_EXPIRATION:3600}

# ===========================================
# Email Configuration (from environment)
# ===========================================
spring.mail.host=${SPRING_MAIL_HOST:smtp.gmail.com}
spring.mail.port=${SPRING_MAIL_PORT:587}
spring.mail.username=${SPRING_MAIL_USERNAME:}
spring.mail.password=${SPRING_MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# ===========================================
# Storage Configuration (from environment)
# ===========================================
storage.type=${STORAGE_TYPE:LOCAL}
storage.s3.bucket=${S3_BUCKET_NAME:}
storage.s3.region=${S3_REGION:ap-south-1}
storage.s3.access-key=${S3_ACCESS_KEY:}
storage.s3.secret-key=${S3_SECRET_KEY:}
storage.s3.prefix=${S3_PREFIX:uploads}

# ===========================================
# Google OAuth (from environment)
# ===========================================
google.client.id=${GOOGLE_CLIENT_ID:}

# ===========================================
# AI Service (from environment)
# ===========================================
ai.service.url=${AI_SERVICE_URL:http://localhost:8000}

# ===========================================
# File Paths Configuration
# ===========================================
spring.file.csv=${CSV_FILE_PATH:/var/ensureu/csv/}
spring.free.file.csv=${FREE_CSV_FILE_PATH:/var/ensureu/csv/free/}
spring.static.image=${STATIC_IMAGE_PATH:/var/ensureu/images/}

# ===========================================
# Actuator Health Configuration
# ===========================================
management.health.mail.enabled=${MANAGEMENT_HEALTH_MAIL_ENABLED:false}
